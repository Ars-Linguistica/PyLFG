<!DOCTYPE HTML PUBLIC '-//W3C//DTD HTML 3.2 Final//EN'>
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>INESS :: XLE-Web</title><script src="js/jquery.js" type="text/javascript" language="javascript"></script><script type="text/javascript" language="javascript">var req = null;
;

function initFramework(event)  {
   if (typeof(initPage) == "function") {
      return (initPage(event)) }
}

function doHandleClick(event)  {
   closeWiki();
   if (typeof(handleClick) == "function") {
      return (handleClick(event)) }
}

function doHandleMouseOver(event)  {
   if (typeof(handleMouseOver) == "function") {
      return (handleMouseOver(event)) }
}

function doHandleKeyDown(event)  {
   if (typeof(handleKeyDown) == "function") {
      return (handleKeyDown(event)) }
}

function doHandleScroll(event)  {
   if (typeof(handleScroll) == "function") {
      return (handleScroll(event)) }
}

function addSessionId(a, sessionId)  {
   if (a.href.indexOf("session-id=") == -1) {
      if (a.href.indexOf("?") == -1) {
         a.href = a.href + "?session-id=" + sessionId }   else  {
         a.href = a.href + "&session-id=" + sessionId } }
}

function toggleEdit(uri, sessionId)  {
   var sessionId = document.getElementById("session-id");
   var req = new XMLHttpRequest();
   req.open("get", "toggle-edit.json?session-id=" + sessionId.value, false);
   req.send("");
   return (window.open(uri + "?session-id=" + sessionId.value, "_self"))
}

function setLanguage(language)  {
   var sessionId = document.getElementById("session-id");
   var req = new XMLHttpRequest();
   req.open("get", "set-language.json?session-id=" + sessionId.value + "&language=" + language, false);
   req.send("");
   return (linkForm.submit())
}

function getReturnUrl()  {
   var port = "";
   var returnUrl = null;
   var sessionId = document.getElementById("return-session-id");
   if (location.port) {
      port = ":" + location.port };
   returnUrl = location.protocol + "//" + location.hostname + port + location.pathname;
   if (sessionId) {
      returnUrl = returnUrl + "?session-id=" + sessionId.value };
   return returnUrl
}

function singleLogin(loginType, keepSession)  {
   var sessionId = document.getElementById("session-id");
   var port = "";
   var returnUrl = null;
   returnUrl = getReturnUrl();
   if ((keepSession) && (returnUrl.indexOf("session-id=") == -1)) {
      if (returnUrl.indexOf("?") == -1) {
         returnUrl = returnUrl + "?session-id=" + sessionId.value }   else  {
         returnUrl = returnUrl + "&session-id=" + sessionId.value } };
   if (loginType == "clarin") {
      return (window.open("https://discovery.clarin.eu/?entityID=" + encodeURIComponent("https://clarino.uib.no") + "&return=" + encodeURIComponent("https://clarino.uib.no/sp/clarin-dj-login?" + "idp=" + "clarin" + "&return-url=" + encodeURIComponent(returnUrl)), "_self")) }   else if (loginType == "shib") {
      return (window.open("login?return-url=" + encodeURIComponent(returnUrl), "_self")) }   else  {
      return (window.open("https://clarino.uib.no/sp/single-login?idp=" + loginType + "&return-url=" + encodeURIComponent(returnUrl), "_self")) }
}

function requestShibLogout()  {
   var sessionId = document.getElementById("session-id");
   var port = "";
   var returnUrl = getReturnUrl();
   var cookie = document.cookie.match("default");
   console.log(cookie);
   console.log(document.cookie);
   return (window.open("logout?return-url=" + encodeURIComponent(returnUrl), "_self"))
}

function eduGAINredirectMessage()  {
   return (alert("Please use CLARIN SPF for login. The eduGAIN login has been discontinued. Most Identity Providers of eduGAIN member organisations are accessible via CLARIN SPF. For users with a Feide account, ‘Feide’ should be chosen as home organisation."))
}

function openIdPredirectMessage()  {
   return (alert("Please use CLARIN SPF for login. The open IdPlogin has been discontinued. Most Identity Providers of eduGAIN member organisations are accessible via CLARIN SPF. For users with a Feide account, ‘Feide’ should be chosen as home organisation. If this is no option for you please register a CLARIN account (see ‘Getting started’)."))
}

function requestLogout(url)  {
   var sessionId = document.getElementById("session-id");
   var port = "";
   var returnUrl = null;
   if (location.port) {
      port = ":" + location.port };
   returnUrl = location.protocol + "//" + location.hostname + port + location.pathname;
   return (window.open(url + "?logout=true&return-url=" + encodeURIComponent(returnUrl), "_self"))
}

function getLeftOffset(el, rel)  {
   if ((!(rel)) && (el.style) && (el.style.position == "relative")) {
      return 0 }   else if (el == rel) {
      return 0 }   else if (el.offsetParent) {
      return (el.offsetLeft + getLeftOffset(el.offsetParent, rel)) }   else  {
      return el.offsetLeft }
}

function getTopOffset(el, rel)  {
   if ((!(rel)) && (el.style) && (el.style.position == "relative")) {
      return 0 }   else if (el == rel) {
      return 0 }   else if (el.offsetParent) {
      return (el.offsetTop + getTopOffset(el.offsetParent, rel)) }   else  {
      return el.offsetTop }
}

function showToolPage(event, type, code)  {
   var req = new XMLHttpRequest();
   var sessionId = document.getElementById("session-id");
   var pageId = document.getElementById("page-id");
   var wikiDiv = document.getElementById("wiki-page-div");
   var wikiForm = document.getElementById("wiki-form");
   switch (type) {
      case "corpus.text" :
          wikiForm.action = "document-element.xml?code=" + encodeURIComponent(code);
          break;
   }
;
   return (wikiForm.submit())
}

function showWiki(event, span, id, environment, edit)  {
   var req = new XMLHttpRequest();
   var wikiDiv = document.getElementById("wiki-div");
   var sessionId = document.getElementById("session-id");
   req.open("get", "js/show-wiki.html?session-id=" + sessionId.value + "&id=" + id + "&environment=" + environment + "&edit=" + edit + "&mode=display", false);
   req.send("");
   wikiDiv.style.left = getLeftOffset(span) + 10;
   wikiDiv.style.top = getTopOffset(span) + 10;
   wikiDiv.style.width = "500px";
   wikiDiv.style.height = "auto";
   wikiDiv.style.display = "block";
   wikiDiv.style.position = "absolute";
   wikiDiv.innerHTML = req.responseText;
   return (event.stopPropagation())
}

function showWikiPage(event, id, environment, anchor)  {
   var pageId = document.getElementById("page-id");
   var pageAnchor = document.getElementById("pageAnchor");
   var wikiForm = document.getElementById("wiki-form");
   if (wikiForm) {
      pageId.value = id;
      var qPos = wikiForm.action.indexOf("?");
      if (qPos != -1) {
         wikiForm.action = wikiForm.action.substring(0, qPos) };
      wikiForm.action = wikiForm.action + "?page-id=" + id;
      pageAnchor.value = anchor;
      return (wikiForm.submit()) }   else  {
      var req = new XMLHttpRequest();
      var sessionId = document.getElementById("session-id");
      var wikiDiv = document.getElementById("wiki-page-div");
      req.open("get", "js/show-wiki.html?session-id=" + sessionId.value + "&id=" + id + "&environment=" + environment + "&edit=" + edit + "&page-anchor=" + anchor + "&mode=display-page", false);
      req.send("");
      wikiDiv.innerHTML = req.responseText;
      window.location = window.location + "#" + anchor }
}

function showWikiLinkMenu(session, id, environment)  {
   var req = new XMLHttpRequest();
   var wikiDiv = document.getElementById("wiki-link-menu");
   var query = "session-id=" + session + "&id=" + id + "&markup-type=wiki-link-menu" + "&environment=" + environment + "&mode=display-link-menu";
   req.open("post", "js/show-wiki.html", false);
   req.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
   req.setRequestHeader("Content-Length", query.length);
   req.send(query);
   wikiDiv.innerHTML = req.responseText;
   wikiDiv.style.border = null;
   wikiDiv.style.padding = 0;
   return (event.stopPropagation())
}

function previousWikiPage(session, id, environment)  {
   var req = new XMLHttpRequest();
   var wikiDiv = document.getElementById("wiki-page-div");
   req.open("get", "js/show-wiki.html?session-id=" + session + "&id=" + id + "&environment=" + environment + "&mode=display-previous-page", false);
   req.send("");
   wikiDiv.innerHTML = req.responseText
}

function editWiki(session, id, environment)  {
   var req = new XMLHttpRequest();
   var wikiDiv = document.getElementById("wiki-div");
   req.open("get", "js/show-wiki.html?session-id=" + session + "&id=" + id + "&environment=" + environment + "&mode=edit", false);
   req.send("");
   wikiDiv.innerHTML = req.responseText;
   wikiDiv.style.width = "auto";
   return (event.stopPropagation())
}

function editWikiLinkMenu(session, id, environment)  {
   var req = new XMLHttpRequest();
   var wikiDiv = document.getElementById("wiki-link-menu");
   req.open("get", "js/show-wiki.html?session-id=" + session + "&id=" + id + "&environment=" + environment + "&mode=edit-link-menu", false);
   req.send("");
   wikiDiv.style.left = getLeftOffset(wikiDiv) + 0;
   wikiDiv.style.top = getTopOffset(wikiDiv) + 0;
   wikiDiv.style.background = "white";
   wikiDiv.style.zIndex = "1";
   wikiDiv.style.border = "2px solid gray";
   wikiDiv.style.borderRadius = "0.5em";
   wikiDiv.style.padding = "0.5em";
   wikiDiv.style.height = "auto";
   wikiDiv.style.display = "block";
   wikiDiv.style.position = "absolute";
   wikiDiv.innerHTML = req.responseText;
   return (event.stopPropagation())
}

function editWikiPage(session, id, type, slot)  {
   var req = new XMLHttpRequest();
   var wikiDiv = document.getElementById("wiki-page-div");
   req.open("get", "js/show-wiki.html?session-id=" + session + "&id=" + id + "&mode=edit-page", false);
   req.send("");
   wikiDiv.innerHTML = req.responseText;
   return (event.stopPropagation())
}

function saveWiki(session, id, environment)  {
   var req = new XMLHttpRequest();
   var wikiDiv = document.getElementById("wiki-div");
   var wikiMarkup = document.getElementById("wiki-markup");
   var query = "session-id=" + session + "&id=" + id + "&environment=" + environment + "&mode=save" + "&markup=" + encodeURIComponent(wikiMarkup.value);
   req.open("post", "js/show-wiki.html", false);
   req.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
   req.setRequestHeader("Content-Length", query.length);
   req.send(query);
   wikiDiv.style.width = 400;
   wikiDiv.innerHTML = req.responseText;
   return (event.stopPropagation())
}

function saveWikiPage(session, id, environment)  {
   var req = new XMLHttpRequest();
   var wikiDiv = document.getElementById("wiki-page-div");
   var wikiMarkup = document.getElementById("wiki-markup");
   var query = "session-id=" + session + "&id=" + id + "&environment=" + environment + "&mode=save-page" + "&markup=" + encodeURIComponent(wikiMarkup.value);
   req.open("POST", "js/show-wiki.html", false);
   req.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
   req.send(query);
   wikiDiv.innerHTML = req.responseText
}

function saveWikiLinkMenu(session, id, environment)  {
   var req = new XMLHttpRequest();
   var wikiDiv = document.getElementById("wiki-link-menu");
   var wikiMarkup = document.getElementById("wiki-markup");
   var query = "session-id=" + session + "&id=" + id + "&environment=" + environment + "&mode=save-link-menu" + "&markup=" + encodeURIComponent(wikiMarkup.value);
   req.open("post", "js/show-wiki.html", false);
   req.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
   req.setRequestHeader("Content-Length", query.length);
   req.send(query);
   wikiDiv.innerHTML = req.responseText;
   wikiDiv.style.border = null;
   wikiDiv.style.padding = 0;
   return (event.stopPropagation())
}

function closeWiki()  {
   var wikiDiv = document.getElementById("wiki-div");
   wikiDiv.style.display = "none"
}

function uploadComplete(data)  {
   var uploadFileSpan = document.getElementById("upload-file");
   if (data.success) {
      uploadFileSpan.innerHTML = "File uploaded: " + data.fileName }   else  {
      uploadFileSpan.innerHTML = data.error };
   return (uploadFileSpan.setAttribute("class", "upload-file-done"))
}
</script><script type="text/javascript" src="js/upload.js" language="javascript"></script><style type="text/css">
body {
  font-family: Verdana, Tahoma, Lucida Sans Unicode, Arial Unicode MS, MS Sans Serif, Geneva, Helvetica;
  font-size: 8pt;
  margin: 0;
}

a {
  text-decoration: none;
  color: #004499;
}

a:hover {
  text-decoration: underline;
  color: #004499;
}

a.toptab-current {
  color: white;
}

a.toptab {
  color: white;
}

a.toptab:hover {
  text-decoration: underline;
}

a.lefttab {
  color: black;
}

a.lefttab:hover {
  text-decoration: underline;
}

table {
  padding: 0pt;
  border-collapse: collapse;
  font-size: 8pt;
}

table.sub {
  font-size: 10pt;
}

td.frame-topbanner {
  vertical-align: top;
  font-size: 10pt;
  border-bottom: 1px solid lightgray;
  border-right: 1px solid lightgray;
  background: #29a2c3;
  height: 4.3em;
}

td.frame-top {
  vertical-align: top;
  font-size: 10pt;
  border-bottom: 1px solid lightgray;
  background: #f6fafa;
  height: 4.3em;
}

td.lefttabs {
  vertical-align: top;
  font-size: 10pt;
  border-right: 1px solid #c0d0d0;
  background: #e6eeee;
  width: 145px;
}

td.toptabs {
  vertical-align: top;
  font-size: 10pt;
  background: #29a2c3;
}

td.content {
  vertical-align: top;
  padding: 0.4em;
}

tr.sublink {
}

tr.sublink-current {
  background: white;
}

span.topbanner-img {
}

span.subtitle {
  color: #151057;
}

span.toptab-current {
  color: white;
}

span.toptab {
  color: white;
}

span.label {
  margin: 0.5em;
}

span.title-label {
  font-weight: bold;
}

span.comment {
  margin: 0.5em;
  color: gray;
}

span.edit {
  vertical-align: top;
}

span.edit-focus {
  vertical-align: top;
  background: cyan;
}

span.edit:hover {
  color: gray;
  cursor: pointer;
}

span.link {
  color: #004499;
  cursor: hand;
}

span.link:hover {
  text-decoration: underline;
}

td.spacer {
  background: #29a2c3;
  color: #29a2c3;
}

span.spacer {
  color: #29a2c3;
}

div.title-lfg {
  margin: 16;
  font-size: 18;
  font-weight: bold;
  text-align: center;
}

div.label {
  margin: 16;
  font-size: 12;
}

div.bottom {
  font-size: 10pt;
  color: black;
  margin-left: 2px;
  margin-bottom: 2px;
}

div.label {
  margin: 0.5em;
}

div.title-label {
  margin: 0.5em;
  font-weight: bold;
}

div.toplink {
  font-weight: bold;
  float: left;
  display: inline;
  padding: 2px;
  padding-left: 8px;
  padding-right: 8px;
  padding-bottom: 0;
  background: #29a2c3;
}

div.toplink-current {
  font-weight: bold;
  float: left;
  display: inline;
  padding: 2px;
  padding-left: 8px;
  padding-right: 8px;
  padding-bottom: 0;
  background: #292223;
}

div.sublink {
  padding: 2px;
  padding-left: 6px;
}

div.sublink:hover {
  text-decoration: underline;
}

div.sublink-current {
  padding: 2px;
  padding-left: 6px;
  background: white;
  border: 1px solid gray;
  color: black;
}

div.submenu {
  color: white;
  cursor: pointer;
  position: absolute;
  background: white;
  border: 1px solid gray;
  display: none;
}

div.menuitem {
  color: black;
  cursor: pointer;
  background: white;
  margin: 1px;
  font-weight: bold;
  font-size: 8pt;
}

div.submenuitem {
  color: black;
  cursor: pointer;
  background: white;
  margin: 1px;
  font-size: 8pt;
}

div.login {
  text-align: right;
  max-width: 65em;
  padding: 2px;
  padding-right: 40px;
  padding-bottom: 0;
  color: gray;
}

div.choose-lang {
  font-weight: normal;
  float: left;
  display: inline;
  padding: 2px;
  padding-left: 6px;
  padding-right: 6px;
  padding-bottom: 0;
  color: white;
  background: #29a2c3;
}

div.choose-lang:hover {
  cursor: pointer;
  text-decoration: underline;
}

div.chosen-lang {
  font-weight: normal;
  float: left;
  display: inline;
  padding: 2px;
  padding-left: 6px;
  padding-right: 6px;
  padding-bottom: 0;
  color: white;
  background: blue;
}

div.menuitem:hover {
  background: #5588ff;
  color: white;
}

div.submenuitem:hover {
  background: #5588ff;
  color: white;
}

span.menu {
  color: gray;
  cursor: pointer;
  position: absolute;
  background: white;
  border: 1px solid black;
}

span.hidden-menu {
  display: none;
}

table.frame {
  border-collapse: collapse;
  width: 100%;
  height: 100%;
  margin: 0;
  padding: 0;
  border: 0;
}

div.page-title {
  font-family: Lucida grande, Verdana, Tahoma, MS Sans Serif, Arial, Geneva, Helvetica;
  font-size: 18pt;
  color: white;
  text-align: left;
  margin-bottom: 0.22em;
  margin-top: 0em;
  margin-left: 0.5em;
}

div.label {
  margin: 16;
  font-size: 12;
}

div.text {
  margin: 16;
  font-size: 8pt;
  color: black;
  margin-left: 2px;
  margin-bottom: 2px;
}
</style><style type="text/css">
span.wiki {
  color: #29a2c3;
  cursor: pointer;
}

span.wiki-link {
  cursor: pointer;
  margin: 2px;
  color: #1962c3;
}

span.wiki-link:hover {
  border-bottom: 1px dotted #ba0000;
  color: #29a2c3;
}

span.wiki:hover {
  border-bottom: 1px dotted #ba0000;
  color: green;
}

table.wiki {
  border-collapse: collapse;
  font-size: 10pt;
  margin: 1em;
  background-color: #fffef0;
}

h1.wiki {
  font-weight: normal;
  margin-left: 0em;
  margin-top: 1em;
  color: #151057;
}

h2.wiki {
  font-size: 14pt;
  font-weight: normal;
  margin-left: 0em;
  margin-top: 1.5em;
  color: #151057;
}

h3.wiki {
  font-weight: bold;
  margin-left: 0em;
  margin-top: 2em;
  color: #151057;
}

h4.wiki {
  font-weight: bold;
  margin-left: 0em;
  margin-top: 2em;
  color: #151057;
}

th.wiki {
  border: 1px black solid;
  padding: 0.5em;
  background-color: #fffce0;
}

td.wiki {
  border: 1px black solid;
  padding: 0.5em;
}

div.wiki-toc {
  border: 1px solid gray;
  background-color: #fffce0;
  margin: 0.5em;
  padding: 0.5em;
  float: right;
}

ul.wiki-toc {
  margin: 0;
  padding-left: 1.5em;
}

li.wiki-toc {
  list-style-type: none;
  margin: 0px;
}

ul.wiki-list {
  margin: 0;
  padding-left: 1.5em;
}

li.wiki-list {
  list-style-type: circle;
  margin: 5px;
}

pre.wiki {
  margin: 1em;
  padding: 2px;
  border: 1px solid lightgray;
}

div.wiki {
  position: absolute;
  margin: 0.5em;
  padding: 0.8em;
  display: none;
  border: 1px solid black;
  background-color: #f6fafa;
}

img.wiki {
  margin: 0.5em;
  margin-left: 2em;
}

span.upload-file {
  text-decoration: underline;
  color: blue;
  cursor: pointer;
}
</style></head><body onload="initFramework(event)" onclick="doHandleClick(event)" onmouseover="doHandleMouseOver(event)" onkeydown="doHandleKeyDown(event)" onscroll="doHandleScroll(event)"><div class="wiki" id="wiki-div" style="position: absolute; top: 10px; left: 10px" onclick="event.stopPropagation()"><form method="post" action="page" id="wiki-form"><input type="hidden" id="page-id" value=""></input><input type="hidden" name="page-anchor" id="pageAnchor" value=""></input><input type="hidden" name="session-id" id="session-id" value="254452574564101"></input></form></div><table class="frame"><tr><td class="frame-topbanner"><span class="topbanner-img" style="font-size: 12pt; color: white"><a href="page?session-id=254452574564101"><img style="position: absolute; top: -0.1em; left: 0.9em" src="iness.png" width="112px" height="56px" alt="INESS-logo"></img></a></span></td><td class="frame-top" style="vertical-align: bottom"><div class="login">Sign in: <a href="iness-login?session-id=254452574564101">Local</a> | <a href="javascript:singleLogin('shib')">CLARIN SPF</a></div><div class="page-title"><span class="subtitle">XLE-Web</span></div></td></tr><tr style="height: 100%;"><td class="lefttabs"><form method="post" id="linkForm" name="link-form" action="xle-web"><input type="hidden" name="session-id" id="session-id" value="254452574564101"></input><div style="width: 18ex; margin: 0.4em;"><table class="sub"><div xmlns="" id="wiki-link-menu">
<tr class="sublink"><td>
<div class="sublink" style="cursor: pointer" onclick="showWikiPage(event,'iness-main-page','')">Main Page</div>
</td></tr>
<tr class="sublink"><td>
<div class="sublink" style="cursor: pointer" onclick="showWikiPage(event,'Getting_started','')">Knowledge center</div>
</td></tr>
<tr class="sublink"><td>
<div class="sublink" style="cursor: pointer" onclick="showWikiPage(event,'Project_description','')">The project</div>
</td></tr>
<tr class="sublink"><td>
<div class="sublink" style="cursor: pointer" onclick="showWikiPage(event,'iness-documentation','')">Documentation</div>
</td></tr>
<tr class="sublink"><td>
<div class="sublink" style="cursor: pointer" onclick="showWikiPage(event,'FAQ','')">FAQ</div>
</td></tr>
<tr class="sublink"><td>
<div class="sublink" style="cursor: pointer" onclick="showWikiPage(event,'Publications','')">Publications</div>
</td></tr>
<tr class="sublink"><td>
<div class="sublink" style="cursor: pointer" onclick="showWikiPage(event,'Links','')">Links</div>
</td></tr>
<tr class="sublink"><td>
<div class="sublink" style="cursor: pointer" onclick="showWikiPage(event,'Resources','')">Resources</div>
</td></tr>
<tr class="sublink"><td>
</td></tr>
</div>
<tr xmlns=""><td><hr></td></tr>
<tr xmlns=""><td><div style="font-weight: bold; color: black; font-size: 8pt">Treebanks</div></td></tr>
<tr xmlns="" class="sublink"><td><div class="sublink"><a class="lefttab" title="" onclick="addSessionId(this,254452574564101)" href="treebanks">Treebank Selection</a></div></td></tr>
<tr xmlns="" class="sublink"><td><div class="sublink"><a class="lefttab" title="" onclick="addSessionId(this,254452574564101)" href="aligned-sentences">Parallel Sentences</a></div></td></tr>
<tr xmlns=""><td><hr></td></tr>
<tr xmlns=""><td><div style="font-weight: bold; color: black; font-size: 8pt">Tools</div></td></tr>
<tr xmlns="" class="sublink-current"><td><div class="sublink-current"><a class="lefttab-current" title="" onclick="addSessionId(this,254452574564101)" href="xle-web">XLE-Web</a></div></td></tr>
<tr xmlns="" class="sublink"><td><div class="sublink"><a class="lefttab" title="Grammars available for parsing with XLE-Web" onclick="addSessionId(this,254452574564101)" href="lfg-grammars">Grammars</a></div></td></tr>
<tr xmlns=""><td><hr></td></tr>
<tr xmlns=""><td><hr></td></tr></table></div></form></td><td class="content"><style xmlns="" type="text/css">
div.title {
  font-size: 18;
  font-weight: bold;
  text-align: center;
}

div.title-lfg {
  font-size: 18;
  font-weight: bold;
  text-align: center;
  color: #004499;
}

div.link {
  font-size: 12;
}

a {
  text-decoration: none;
  color: #004499;
}

a:hover {
  text-decoration: underline;
}

div.label {
  font-size: 12;
}

div.text {
  font-size: 8pt;
  color: black;
  margin-left: 2px;
  margin-bottom: 2px;
}

div.error {
  font-size: 8pt;
  color: red;
  margin-left: 2px;
  margin-bottom: 2px;
}

span.error {
  font-size: 10pt;
  color: red;
  font-weight: normal;
}

div.error-title {
  font-size: 10pt;
  color: red;
  margin-left: 2px;
  margin-bottom: 2px;
}

div.message {
  font-size: 8pt;
  color: green;
  margin-left: 2px;
  margin-bottom: 2px;
  margin-top: 5px;
}

div.message-title {
  font-size: 10pt;
  color: green;
  margin-left: 2px;
  margin-bottom: 2px;
  font-weight: bold;
}

div.justification {
  font-size: 8pt;
  color: black;
  margin-left: 2px;
  margin-bottom: 2px;
  font-weight: bold;
}

span.sentence {
  font-size: 14;
  color: black;
}

span.text {
  color: black;
  font-weight: normal;
}

table {
  padding: 0pt;
  font-size: 8pt;
  border-collapse: collapse;
  font-family: Verdana, Tahoma, MS Sans Serif, Arial, Geneva, Helvetica;
}

td.misc {
  margin: 0pt;
  padding: 0pt;
  border: none;
}

td.just {
  margin: 0pt;
  padding: 0pt;
  border: 1px red solid;
}

td.disc-type {
  margin: 10px;
  padding: 10px;
  border: none;
  color: #004499;
  5A: font-weight;
  bold: font-size;
  8pt: ;
}

span.morph {
  color: black;
}

table.morph {
  border-collapse: collapse;
}

td.morph {
  vertical-align: top;
  margin: 0px;
  padding: 2px;
  border: 0px gray solid;
  cursor: pointer;
}

td.morph-hilite {
  vertical-align: top;
  margin: 0px;
  padding: 2px;
  border: 1px gray solid;
  cursor: pointer;
  background: #29a2c3;
}

td.morph-box {
  margin: 0px;
  padding: 0px;
  border: 0px green solid;
}

td.disc {
  margin: 0px;
  padding: 3px;
  border: 2px gray solid;
  cursor: pointer;
}

td.disc-anchor {
  margin: 0px;
  padding: 3px;
  border: 2px gray solid;
  text-align: right;
}

td.reduction {
  text-align: right;
  margin: 0px;
  padding: 3px;
  border: 2px gray solid;
  cursor: pointer;
}

td.seg-disc {
  margin: 0px;
  padding: 3px;
  border-left: 2px gray solid;
  border-top: 2px gray solid;
  border-right: 2px gray solid;
  cursor: pointer;
}

td.seg-disc-anchor {
  margin: 0px;
  padding: 3px;
  border-left: 2px gray solid;
  border-top: 2px gray solid;
  border-right: 2px gray solid;
  text-align: right;
}

td.rule-disc {
  margin: 0px;
  padding: 3px;
  border-left: 2px gray solid;
  border-right: 2px gray solid;
  cursor: pointer;
}

td.rule-disc-anchor {
  margin: 0px;
  padding: 3px;
  border-left: 2px gray solid;
  border-right: 2px gray solid;
  text-align: right;
}

td.last-rule-disc {
  margin: 0px;
  padding: 3px;
  border-bottom: 2px gray solid;
  border-left: 2px gray solid;
  border-right: 2px gray solid;
  cursor: pointer;
}

td.last-seg-disc {
  margin: 0px;
  padding: 3px;
  border: 2px gray solid;
  cursor: pointer;
}

td.last-seg-disc-anchor {
  margin: 0px;
  padding: 3px;
  border: 2px gray solid;
  text-align: right;
}

td.last-seg-disc-hilite {
  margin: 0px;
  padding: 3px;
  border: 2px gray solid;
  cursor: pointer;
  background: lightgray;
}

td.disc-hilite {
  margin: 0px;
  padding: 3px;
  border: 2px gray solid;
  background: lightgray;
  cursor: pointer;
  cursor: pointer;
}

td.seg-disc-hilite {
  margin: 0px;
  padding: 3px;
  border-left: 2px gray solid;
  border-top: 2px gray solid;
  border-right: 2px gray solid;
  cursor: pointer;
  background: lightgray;
}

td.rule-disc-hilite {
  margin: 0px;
  padding: 3px;
  border-left: 2px gray solid;
  border-right: 2px gray solid;
  cursor: pointer;
  background: lightgray;
}

td.disc-chosen {
  margin: 0px;
  padding: 3px;
  border: 3px #c10085 solid;
  background: lightgray;
}

td.last-rule-disc-hilite {
  margin: 0px;
  padding: 3px;
  border-bottom: 2px gray solid;
  border-left: 2px gray solid;
  border-right: 2px gray solid;
  cursor: pointer;
  background: lightgray;
}

span.qeq {
  color: #004499;
}

span.qeq-focus {
  color: white;
  background: gray;
}

span.attribute {
  color: #004499;
  font-weight: bold;
}

span.handle {
  color: black;
}

span.handle-label {
  color: white;
  background: blue;
}

span.harg {
  color: white;
  background: red;
}

span.larg {
  color: white;
  background: blue;
}

span.handle-arg {
  color: white;
  background: red;
}

span.pointer {
  color: red;
}

span.pointer-focus {
  background: red;
  color: white;
}

span.loginout {
  cursor: pointer;
}

span.loginout:hover {
  text-decoration: underline;
}

.c-disc {
  cursor: pointer;
}

.c-disc-hilite {
  background: lightgray;
  cursor: pointer;
}

.c-seg {
  color: blue;
  cursor: pointer;
}

.c-seg-redundant {
  color: gray;
}

.c-seg-chosen {
  color: black;
}

.c-seg-invalid {
  color: red;
}

.c-seg-hilite {
  background: lightgray;
  cursor: pointer;
}

.fs-disc {
  cursor: pointer;
}

.fs-disc-hilite {
  background: lightgray;
  cursor: pointer;
}

tr.dis-border {
  border: 1px gray solid;
}

td.dis {
  color: green;
  cursor: pointer;
}

td.dis-chosen {
  color: red;
  font-weight: bold;
  cursor: pointer;
}
</style>
<style xmlns="" type="text/css">
text {
  font-size: 12px;
  cursor: pointer;
  font-style: normal;
}

text.node-focus {
  fill: #c10085;
}

text.unindexed {
  fill: lightgray;
}

text.aligned {
  font-weight: bold;
}

text.unaligned {
  fill: gray;
}

text.corr {
  fill: magenta;
  font-weight: bold;
  font-style: italic;
}

text.data {
  fill: black;
}

text.data-active {
  fill: red;
}

text.surface-form-active {
  fill: #004499;
  font-weight: bold;
}

text.surface-form-lfg {
  font-weight: bold;
  fill: #004499;
  font-style: normal;
}

text.context {
  fill: green;
}

text.context-active {
  fill: green;
}

text.child-context {
  fill: green;
}

text.child-context-active {
  fill: green;
}

text.node-var {
  fill: green;
  font-size: 6pt;
  text-align: right;
}

text.phi-id {
  fill: red;
  font-size: 8pt;
  text-align: right;
}

rect.data {
  fill: none;
  opacity: 0;
}

rect.context {
  fill: none;
  opacity: 0;
}

rect.child-context {
  fill: none;
  opacity: 0;
}

rect.node {
  fill: none;
  opacity: 0;
}

rect.surface-form {
  fill: none;
  opacity: 0;
}

rect.surface-form-lfg {
  fill: none;
  opacity: 0;
}

rect.match {
  stroke: red;
  fill: white;
  stroke-width: 2;
}

rect.text-box-focused {
  stroke: blue;
  fill: none;
  stroke-width: 2;
  opacity: 0.5;
}

rect.aligned {
  fill: none;
  opacity: 0;
}

rect.unaligned {
  fill: none;
  opacity: 0;
}

rect.invisible {
  stroke: red;
  fill: #f0ffff;
  stroke-width: 1;
  opacity: 0;
}

text.count {
  fill: green;
  font-size: 6pt;
}

path.triangle {
  fill-opacity: 0.2;
}

path.triangle:hover {
  fill-opacity: 0.8;
}
</style>
<style xmlns="" type="text/css">
table {
  padding: 0pt;
  font-size: 8pt;
  margin: 0;
  border-collapse: collapse;
  font-family: Verdana, Tahoma, MS Sans Serif, Arial, Geneva, Helvetica;
}

table.fs {
  border-collapse: separate;
  margin: 0;
}

td.fs {
  padding: 2px;
  margin: 1px;
  border-left: 2px gray solid;
  border-right: 2px gray solid;
}

td.fs-aligned {
  padding: 2px;
  margin: 1px;
  border: 2px #00b000 solid;
}

td.fs-focus {
  padding: 2px;
  margin: 1px;
  border: 2px #c10085 solid;
}

td.fs-match {
  padding: 2px;
  margin: 1px;
  border: 2px red solid;
  border-radius: 6px;
  -moz-border-radius: 6px;
  -webkit-border-radius: 6px;
}

td.fs-projection {
  padding: 2px;
  margin: 1px;
  border: 2px #c10085 solid;
  background: lightgray;
}

td.attribute {
  color: black;
  cursor: hand;
}

td.var {
  color: green;
  vertical-align: bottom;
  font-size: 6pt;
}

td.var-focus {
  color: red;
  vertical-align: bottom;
  font-size: 6pt;
  font-weight: bold;
}

tr.seg {
  cursor: pointer;
}

span.attribute {
  color: black;
  font-weight: bold;
}

span.value {
  color: #004499;
}

span.semform {
  font-weight: bold;
  color: #004499;
}

.ctx {
  color: green;
  font-weight: bold;
  cursor: pointer;
  font-size: 7pt;
  vertical-align: sub;
}

span.pointer {
  color: #f67d1e;
}

span.pointer-focus {
  background: #c10085;
  color: white;
}

.hidden {
  display: none;
}
</style>
<style xmlns="" type="text/css">
text {
  font-size: 12px;
  font-style: normal;
  cursor: default;
}

text.node-focus {
  fill: #c10085;
}

text.match {
  fill: red;
  font-style: italic;
  font-weight: bold;
  cursor: pointer;
}

text.relation {
  fill: black;
}

text.slash-relation {
  fill: #004499;
}

text.hpsg-sort {
  fill: #004499;
  font-size: 7pt;
}

text.data {
  fill: black;
  cursor: pointer;
}

text.data-active {
  fill: red;
  cursor: pointer;
}

text.lemma {
  fill: gray;
}

text.morphology {
  fill: gray;
  font-size: 7pt;
}

text.morphology-tiger {
  fill: gray;
}

text.surface-form-active {
  fill: #004499;
  font-weight: bold;
  cursor: pointer;
}

text.surface-form {
  font-weight: bold;
  fill: #004499;
  font-style: normal;
}

text.context {
  fill: green;
}

text.context-active {
  fill: green;
}

text.child-context {
  fill: green;
}

text.child-context-active {
  fill: green;
}

rect.text-box {
  fill: none;
  opacity: 0;
}

rect.slash-relation {
  stroke: green;
  fill: #fffff0;
  stroke-width: 1;
  opacity: 1;
}

rect.relation {
  stroke: #004499;
  fill: #f0ffff;
  stroke-width: 1;
  opacity: 1;
}

rect.label {
  stroke: gray;
  fill: #ffffe0;
  stroke-width: 1;
  opacity: 1;
}

rect.text-box-focused {
  stroke: #29a2c3;
  fill: none;
  stroke-width: 2;
  opacity: 0.5;
}

text.count {
  fill: green;
  font-size: 6pt;
}

path.triangle {
  fill-opacity: 0.2;
}

path.triangle:hover {
  fill-opacity: 0.8;
}

path.linear-edge {
  stroke: black;
}
</style>
<script xmlns="" type="text/javascript" language="javascript">
function handleKeyDown(event)  {
   var treebank = document.getElementById("treebank");
   var version = document.getElementById("version");
   var sentenceId = document.getElementById("sentence-id");
   var validCheckBox = document.getElementById("valid-p");
   var noGoodCheckBox = document.getElementById("no-good-p");
   var finishedCheckBox = document.getElementById("finished-p");
   var discriminants = document.getElementsByName("disc");
   if (event.ctrlKey) {
      if (event.keyCode == 66) {
         var sessionId = document.getElementById("session-id");
         window.location = "lfg-sentences?session-id=" + sessionId.value;
         event.returnValue = false }   else if (event.keyCode == 67) {
         showComments.checked = !(showComments.checked);
         toggleShowComments.value = true;
         sentenceForm.submit();
         event.returnValue = false }   else if (event.keyCode == 71) {
         validCheckBox.checked = !(validCheckBox.checked);
         toggleValid(treebank.value, sentenceId.value, version.value);
         event.returnValue = false }   else if (event.keyCode == 78) {
         noGoodCheckBox.checked = !(noGoodCheckBox.checked);
         toggleNoGood(treebank.value, sentenceId.value, version.value);
         event.returnValue = false }   else if (event.keyCode == 70) {
         finishedCheckBox.checked = !(finishedCheckBox.checked);
         toggleFinished(treebank.value, sentenceId.value, version.value);
         event.returnValue = false }   else if (event.keyCode == 72) {
         var hideSettings = document.getElementById("hide-settings");
         if (hideSettings.value == "on") {
            hideSettings.value = "" }   else  {
            hideSettings.value = "on" };
         sentenceForm.submit();
         event.returnValue = false }   else if (event.keyCode == 37) {
         if (!(document.activeElement.tagName == "TEXTAREA")) {
            var previousSentence = document.getElementById("previous-sentence");
            previousSentence.value = "Previous";
            form.submit();
            event.returnValue = false } }   else if (event.keyCode == 39) {
         if (!(document.activeElement.tagName == "TEXTAREA")) {
            var nextSentence = document.getElementById("next-sentence");
            nextSentence.value = "Next";
            form.submit();
            event.cancelBubble = true;
            event.returnValue = false } }   else if (event.keyCode == 40) {
         if (!(document.activeElement.tagName == "TEXTAREA")) {
            if (chosenDisc < (discriminants.length - 1)) {
               if (-1 < chosenDisc) {
                  var disc = discriminants[chosenDisc];
                  disc.className = chosenDiscClassName };
               chosenDisc++;
               if (event.altKey) {
                  var disc = discriminants[chosenDisc];
                  for (; (chosenDisc < (discriminants.length - 1)) && (!(disc.getAttribute("first"))); null) {
                     chosenDisc++;
                     disc = discriminants[chosenDisc] } };
               var disc = discriminants[chosenDisc];
               chosenDiscClassName = disc.className;
               disc.className = "disc-chosen";
               if (event.altKey) {
                  center(disc) }   else  {
                  show(disc) };
               highlightSelectedTrees(disc) };
            event.cancelBubble = true;
            event.returnValue = false } }   else if (event.keyCode == 38) {
         if (!(document.activeElement.tagName == "TEXTAREA")) {
            if (0 < chosenDisc) {
               var disc = discriminants[chosenDisc];
               disc.className = chosenDiscClassName;
               --chosenDisc;
               if (event.altKey) {
                  var disc = discriminants[chosenDisc];
                  for (; (-1 < chosenDisc) && (!(disc.getAttribute("first"))); null) {
                     --chosenDisc;
                     disc = discriminants[chosenDisc] } };
               var disc = discriminants[chosenDisc];
               chosenDiscClassName = disc.className;
               disc.className = "disc-chosen";
               if (event.altKey) {
                  center(disc) }   else  {
                  show(disc) };
               highlightSelectedTrees(disc) };
            event.returnValue = false } }   else if (event.keyCode == 76) {
         if (-1 < chosenDisc) {
            var disc = discriminants[chosenDisc];
            center(disc) };
         event.returnValue = false }   else if (event.keyCode == 13) {
         var disc = discriminants[chosenDisc];
         var input = document.getElementById("discriminant-choice");
         var cInput = document.getElementById("complementp");
         var complementp = null;
         if (event.altKey) {
            complementp = true };
         input.value = disc.getAttribute("disc-id");
         cInput.value = complementp;
         return (sentenceForm.submit()) } }
}

function downloadCStructureLatex()  {
   var form = document.getElementById("download-c-structure-latex");
   var grammar = document.getElementById("grammar");
   var xleGraphId = document.getElementById("xle-graph-id");
   var sessionId = document.getElementById("session-id");
   var complexElt = document.getElementById("suppress-complex-categories");
   var complexp = "";
   var req = new XMLHttpRequest();
   if (complexElt.checked) {
      complexp = "true" };
   if (sessionId) {
      form.action = "xle-download-latex?structure=c-structure" + "&grammar=" + grammar.value + "&session-id=" + sessionId.value + "&suppress-complex-categories=" + complexp }   else  {
      form.action = "xle-download-latex?structure=c-structure" + "&grammar=" + grammar.value + "&xle-graph-id=" + xleGraphId.value + "&suppress-complex-categories=" + complexp };
   return (form.submit())
}

function downloadFStructureLatex()  {
   var form = document.getElementById("download-f-structure-latex");
   var grammar = document.getElementById("grammar");
   var xleGraphId = document.getElementById("xle-graph-id");
   var sessionId = document.getElementById("session-id");
   var suppressCheck = document.getElementById("suppress-check");
   var predsOnly = document.getElementById("preds-only");
   var req = new XMLHttpRequest();
   if (sessionId) {
      form.action = "xle-download-latex?structure=f-structure" + "&grammar=" + grammar.value + "&session-id=" + sessionId.value + "&suppress-check=" + suppressCheck.value + "&preds-only=" + predsOnly.value }   else  {
      form.action = "xle-download-latex?structure=f-structure" + "&grammar=" + grammar.value + "&xle-graph-id=" + xleGraphId.value + "&suppress-check=" + suppressCheck.value + "&preds-only=" + predsOnly.value };
   return (form.submit())
}

function submitOnLinefeed(event)  {
   if (event.keyCode == 13) {
      parseSentenceHidden.value = "true";
      return (parseForm.submit()) }
}

function chooseDisjunction(dis)  {
   var form = document.getElementById("form");
   var input = document.getElementById("disjunction-choice");
   input.value = dis;
   return (form.submit())
}

function putIntoFocus(obj, id, scroll)  {
   obj.className = "pointer-focus";
   var fs = document.getElementById(id);
   if (fs) {
      if (scroll) {
         fs.scrollIntoView() };
      fs.className = "fs-focus" }
}

function putIntoAlignedFocus(obj, id, scroll)  {
   obj.className = "pointer-focus";
   var fs = document.getElementById(id);
   if (fs) {
      if (scroll) {
         fs.scrollIntoView() };
      fs.className = "fs-aligned" }
}

function displayDiscriminants(allShown)  {
   var doc = window.parent.document;
   var discriminantsTable = doc.getElementById("discriminants");
   var sessionId = document.getElementById("session-id");
   var showAllFsDiscs = doc.getElementById("show-all-fs-discs");
   var showWeights = doc.getElementById("show-weights");
   var grammar = doc.getElementById("grammar");
   var xleGraphId = doc.getElementById("xle-graph-id");
   var req = new XMLHttpRequest();
   showAllFsDiscs.value = !(allShown);
   req.open("get", "js/discriminants?xle-graph-id=" + xleGraphId.value + "&session-id=" + sessionId.value + "&grammar=" + grammar.value + "&show-all-fs-discs=" + !(allShown) + "&show-weights=" + showWeights.value, false);
   req.send("");
   if (!(req.responseText == "")) {
      discriminantsTable.innerHTML = req.responseText }
}

function setDiscClassName(disc, className)  {
   if (!(disc.className == "disc-chosen")) {
      disc.className = className }
}

function fsDragStart(id)  {
   return (event.dataTransfer.setData("text", id))
}

function fsDragEnter()  {
   event.returnValue = false
}

function fsDragOver()  {
   event.returnValue = false
}

function fsDrop(dropFsId)  {
   var dragFsId = event.dataTransfer.getData("text");
   var form = document.getElementById("align-fs-form");
   var dragInput = document.getElementById("drag-fs-id");
   var dropInput = document.getElementById("drop-fs-id");
   dragInput.value = dragFsId;
   dropInput.value = dropFsId;
   return (form.submit())
}

function chooseDiscriminant(id, complementp)  {
   var input = document.getElementById("discriminant-choice");
   var cInput = document.getElementById("complementp");
   input.value = id;
   cInput.value = complementp;
   return (sentenceForm.submit())
}
var chosenDiscClassName = null;
;
var chosenDisc = -1;
;

function getChosenDisc()  {
   var discId = document.getElementById("previous-discriminant-choice");
   if (discId) {
      var discriminants = document.getElementsByName("disc");
      var i = 0;
      for (; i < discriminants.length; i++) {
         var disc = discriminants[i];
         if (discId.value == disc.getAttribute("disc-id")) {
            chosenDisc = i } };
      if (chosenDisc > -1) {
         var disc = discriminants[chosenDisc];
         chosenDiscClassName = disc.className;
         disc.className = "disc-chosen";
         return (center(disc)) } }
}

function highlightSelectedTrees(disc)  {
   var nodes = document.getElementsByName("c-structure-node");
   var discContext = disc.getAttribute("context");
   var i = 0;
   if (nodes) {
      if (discContext) {
         var discContextBytevector = discContext.split(" ");
         for (; i < nodes.length; i++) {
            var node = nodes[i];
            var nodeContext = node.getAttribute("context");
            var nodeContextBytevector = nodeContext.split(" ");
            if (!(bytevectorIntersection(nodeContextBytevector, discContextBytevector))) {
               node.setAttribute("class", "unindexed") }   else  {
               node.setAttribute("class", node.getAttribute("base-class")) } } }   else  {
         for (; i < nodes.length; i++) {
            var node = nodes[i];
            node.setAttribute("class", node.getAttribute("base-class")) } } }
}

function bytevectorIntersection(bv1, bv2)  {
   if (bv1 == "") {
      return true }   else if (bv2 == "") {
      return true }   else  {
      var i = 0;
      var intersect = null;
      for (; i < bv1.length; i++) {
         if (!((parseInt(bv1[i]) & parseInt(bv2[i]) + 0) == 0)) {
            intersect = true } };
      return intersect }
}

function show(obj)  {
   if ((objPosition(obj) + obj.offsetHeight) > (document.body.clientHeight + document.body.scrollTop)) {
      return (obj.scrollIntoView(false)) }   else if (objPosition(obj) < document.body.scrollTop) {
      return (obj.scrollIntoView(true)) }
}

function center(obj)  {
   var scroll = objPosition(obj) - (document.body.clientHeight / 2);
   if (scroll < 0) {
      scroll = 0 };
   document.body.scrollTop = scroll
}

function objPosition(obj)  {
   var pos = 0;
   for (; obj; obj = obj.offsetParent) {
      pos += obj.offsetTop };
   return pos
}
var parseReq = null;
;

function initPage(event)  {
   return (updateParseStateBar(event))
}

function updateParseStateBar(event)  {
   var sessionId = document.getElementById("session-id");
   parseReq = new XMLHttpRequest();
   parseReq.open("get", "parse-state.json?session-id=" + sessionId.value, true);
   parseReq.onreadystatechange = parseStateChange;
   return (parseReq.send(null))
}

function parseStateChange()  {
   if (parseReq.readyState == 4) {
      var sessionId = document.getElementById("session-id");
      var parseForm = document.getElementById("display-form");
      if (parseReq.responseText) {
         var res = eval("(" + parseReq.responseText + ")");
         if (res.parseState == "waiting") {
            return null }   else if (res.parseState == "loading") {
            parseState.innerHTML = "Parse has timed out. Reloading grammar." }   else if (res.parseState == "idle") {
            parseState.innerHTML = "Done.";
            return (parseForm.submit()) }   else if (res.parseState == "parsing") {
            parseState.innerHTML = "Parse in progress ... (" + res.elapsedTime + "s)";
            return (setTimeout("updateParseStateBar()", 500)) }   else if (res.parseState == "processing") {
            parseState.innerHTML = "Processing parse result ... (" + res.elapsedTime + "s)";
            return (setTimeout("updateParseStateBar()", 500)) }   else if (res.parseState == "error") {
            parseState.innerHTML = "Error: " + res.error }   else  {
            parseState.innerHTML = "Something went wrong." } } }
}

function svnUpdateGrammar()  {
   return ($.ajax({ "url": "svn-update-grammar.json?session-id=" + $("#session-id").val(),
     "success": function (res)  {
           if (res.reload) {
              $("#parseState").html("") };
           return $("#message").html(res.value) } }))
}

function gitUpdateGrammar()  {
   return ($.ajax({ "url": "git-update-grammar.json?session-id=" + $("#session-id").val(),
     "success": function (res)  {
           if (res.reload) {
              $("#parseState").html("") };
           return $("#message").html(res.value) } }))
}

function reloadAndParse(grammar)  {
   $("#unload-parse-sentence").val("true");
   return ($.ajax({ "url": "/iness-search/unload-grammar.json?grammar=" + grammar,
     "success": function (res)  {
           return $("#parseForm").submit() },
     "error": function (xhr, status, error)  {
           console.log(error);
           return $("#parseForm").submit() } }))
}

function reloadGrammar()  {
   return ($.ajax({ "url": "reload-grammar.json?session-id=" + $("#session-id").val(),
     "success": function (res)  {
           return $("#message").html(res.value) } }))
}

function hiliteProjectingNodes(node, hilite)  {
   var doc = node.ownerDocument;
   var projNodes = doc.getElementsByTagName("text");
   var projId = node.getAttribute("projection-id");
   var nI = 0;
   if (projId) {
      for (; nI < projNodes.length; nI++) {
         var pnode = projNodes.item(nI);
         if (pnode.getAttribute("projection-id") == projId) {
            if (hilite == true) {
              pnode.setAttribute("class", "node-focus")
            } else { 
              pnode.setAttribute("class", pnode.getAttribute("base-class"))
            } } } }
}

function hiliteFunctionalDomain(prId, hilite)  {
   var projNodes = document.getElementsByTagName("text");
   var nI = 0;
   for (; nI < projNodes.length; nI++) {
      var pnode = projNodes.item(nI);
      if (pnode.getAttribute("projection-id") == prId) {
         if (hilite == true) {
           pnode.setAttribute("class", "node-focus")
         } else { 
           pnode.setAttribute("class", pnode.getAttribute("base-class"))
         } } }
}

function hiliteCorrNodes(node, corrArray, hilite)  {
   var doc = node.ownerDocument;
   var projNodes = doc.getElementsByTagName("text");
   var nI = 0;
   for (; nI < projNodes.length; nI++) {
      var pnode = projNodes.item(nI);
      if (corrArray.indexOf(pnode.id) != -1) {
         if (hilite == true) {
           pnode.setAttribute("class", "corr")
         } else { 
           pnode.setAttribute("class", pnode.getAttribute("base-class"))
         } } }
}

function bytevectorIntersection(bv1, bv2)  {
   if (bv1 == "") {
      return true }   else if (bv2 == "") {
      return true }   else  {
      var i = 0;
      var intersect = null;
      for (; i < bv1.length; i++) {
         if (!((parseInt(bv1[i]) & parseInt(bv2[i]) + 0) == 0)) {
            intersect = true } };
      return intersect }
}

function bytevectorSubsumption(bv1, bv2)  {
   if (bv1 == "") {
      return true }   else if (bv2 == "") {
      return true }   else  {
      var i = 0;
      var subsumes = true;
      for (; i < bv1.length; i++) {
         if (!((parseInt(bv1[i]) & parseInt(bv2[i]) + 0) == (parseInt(bv1[i]) + 0))) {
            subsumes = null } };
      return subsumes }
}

function getCstructure(event, node, nodeId, sessionType)  {
   var doc = window.parent.document;
   var cstructureTd = doc.getElementById("cstructure");
   var grammar = doc.getElementById("grammar");
   var xleGraphId = doc.getElementById("xle-graph-id");
   var sessionId = doc.getElementById("session-id");
   var req = new XMLHttpRequest();
   if (event.altKey) {
      var nodeContext = node.getAttribute("context");
      var nodeContextBytevector = nodeContext.split(" ");
      var discriminants = doc.getElementsByName("disc");
      var discNr = 0;
      for (; discNr < discriminants.length; null) {
         var disc = discriminants[discNr];
         var discContext = disc.getAttribute("context");
         var discContextBytevector = discContext.split(" ");
         if (bytevectorSubsumption(nodeContextBytevector, discContextBytevector)) {
            if (!(disc.className == "disc-chosen")) {
               disc.setAttribute("original-class", disc.className) };
            disc.className = "disc-chosen" }   else  {
            disc.className = disc.getAttribute("original-class") };
         discNr++ };
      return null }   else if (xleGraphId == null) {
      req.open("get", host + "js/cstructure?session-id=" + sessionId.value + "&session-type=" + sessionType + "&node-id=" + nodeId, false);
      req.send("");
      if (!(req.responseText == "")) {
         cstructureTd.innerHTML = req.responseText } }   else  {
      req.open("get", "js/cstructure?grammar=" + grammar.value + "&session-id=" + sessionId.value + "&session-type=" + sessionType + "&xle-graph-id=" + xleGraphId.value + "&node-id=" + nodeId, false);
      req.send("");
      if (!(req.responseText == "")) {
         cstructureTd.innerHTML = req.responseText } }
}

function getTree(node, nodeId)  {
   var doc = window.parent.document;
   var dgraphTd = doc.getElementById("dgraph");
   var sessionId = doc.getElementById("session-id");
   var req = new XMLHttpRequest();
   req.open("get", "js/hpsg-tree?session-id=" + sessionId.value + "&node-id=" + nodeId, false);
   req.send("");
   if (!(req.responseText == "")) {
      dgraphTd.innerHTML = req.responseText }
}

function showTokenAttributeValues(event, text, nodeId, edit)  {
   var req = new XMLHttpRequest();
   var div = document.getElementById("attributesDiv");
   var svg = document.getElementById("svg");
   var sessionId = document.getElementById("session-id");
   var scale = svg.currentScale;
   req.open("get", "js/node-attribute-values?session-id=" + sessionId.value + "&node-id=" + nodeId + "&edit=" + edit, false);
   req.send("");
   if (req.responseText) {
      div.style.left = $(text).offset().left + 0;
      div.style.top = $(text).offset().top + 15;
      div.style.width = "auto";
      div.style.height = "auto";
      div.style.display = "block";
      div.style.position = "absolute";
      div.innerHTML = req.responseText;
      return (event.stopPropagation()) }
}

function hiliteEdge(nodeId)  {
   $(".linear-edge").css({ "stroke": "black",
     "stroke-width": "1" });
   return $("[id$='-" + nodeId + "e']").css({ "stroke": "red",
     "stroke-width": "2" })
}

function hiliteSlashEdge(fromNodeId, toNodeId)  {
   $(".linear-edge").css({ "stroke": "black",
     "stroke-width": "1" });
   return $("#slash-e" + fromNodeId + "-" + toNodeId + "e-slash").css({ "stroke": "red",
     "stroke-width": "2" })
}

function hiliteInOutEdges(nodeId)  {
   $(".linear-edge").css({ "stroke": "black",
     "stroke-width": "1" });
   $("[id|='e" + nodeId + "']").css({ "stroke": "blue",
     "stroke-width": "2" });
   return $("[id$='-" + nodeId + "e']").css({ "stroke": "red",
     "stroke-width": "2" })
}

function blurInOutEdges(nodeId)  {
   return $(".linear-edge").css({ "stroke": "black",
     "stroke-width": "1" })
}

function handleClick()  {
   $("#relations-menu").hide();
   return $("#attributesDiv").hide()
}
var selectedElement = null;
;
var currentX = null;
;
var origPath = null;
;
var origRelCenter = null;
;
var dragNodeId = null;
;
var newSlashDragNodeId = null;
;
var dragNodeTextId = null;
;
var undominatedNodes = null;
;
var slashHead = null;
;
var newSlashDeltaX = null;
;

function initDragDrop()  {
   $(".arc-start").draggable({ "revert": "true" }).bind("mouseover", function (event, ui)  {
      event.target.setAttribute("fill", "red");
      return (event.target.setAttribute("opacity", "1")) }).bind("mousedown", function (event, ui)  {
      var fromNodeId = event.target.getAttribute("from-node-id");
      var toNodeId = event.target.getAttribute("to-node-id");
      var arc = $("#e" + fromNodeId + "-" + toNodeId + "e")[0];
      var relation = $("#relation-" + toNodeId)[0];
      var svgDoc = event.target.ownerDocument;
      dragNodeId = toNodeId;
      slashHead = null;
      currentX = parseFloat(event.target.getAttribute("cx"));
      hiliteEdge(toNodeId);
      origPath = arc.getAttribute("d");
      origRelCenter = relation.getAttribute("x");
      $("#attributesDiv").hide();
      hiliteUndominatedIds(fromNodeId, toNodeId);
      $("svg").append($(arc));
      return $("svg").append($(relation)) }).bind("drag", function (event, ui)  {
      var fromNodeId = event.target.getAttribute("from-node-id");
      var toNodeId = event.target.getAttribute("to-node-id");
      var arc = $("#e" + fromNodeId + "-" + toNodeId + "e")[0];
      var relation = $("#relation-" + toNodeId)[0];
      var pp = arc.getAttribute("d").split(" ");
      var left = ui.position.left - ui.originalPosition.left;
      var xCenterFrom = currentX + left;
      var xCenterTo = parseFloat(pp[20]);
      var xDelta = xCenterTo - xCenterFrom;
      var xCenter = Math.floor(xCenterTo + xCenterFrom, 2);
      var radius = Math.min(30, Math.abs(Math.floor(xCenterTo - xCenterFrom, 2)));
      var xCurved = radius;
      if (xDelta < 0) {
         xCurved = 0 - radius };
      var pathDef = "M " + xCenterFrom + " " + pp[2] + " L " + xCenterFrom + " " + pp[5] + " Q " + xCenterFrom + " " + pp[8] + " " + (xCenterFrom + xCurved) + " " + pp[10] + " L " + (xCenterFrom + (xDelta - xCurved)) + " " + pp[13] + " Q " + (xCenterFrom + xDelta) + " " + pp[16] + " " + (xCenterFrom + xDelta) + " " + pp[18] + " L " + (xCenterFrom + xDelta) + " " + pp[21];
      $("#relation-" + toNodeId).attr("transform", "translate(" + Math.floor(left / 2) + ",0)");
      $("#circle-" + toNodeId).attr("transform", "translate(" + Math.floor(left) + ",0)");
      $("#drag-circle-" + toNodeId).attr("transform", "translate(" + Math.floor(left) + ",0)");
      return (arc.setAttribute("d", pathDef)) }).bind("dragstop", function (event, ui)  {
      var fromNodeId = event.target.getAttribute("from-node-id");
      var toNodeId = event.target.getAttribute("to-node-id");
      var arc = $("#e" + fromNodeId + "-" + toNodeId + "e")[0];
      event.target.setAttribute("opacity", "0.1");
      $("svg").append($(event.target));
      dragNodeId = null;
      $(".droparea").addClass("invisible");
      arc.setAttribute("d", origPath);
      $("#relation-" + toNodeId).attr("transform", "translate(0,0)");
      $("#circle-" + toNodeId).attr("transform", "translate(0,0)");
      $("#drag-circle-" + toNodeId).attr("transform", "translate(0,0)");
      $("svg").prepend($(arc));
      if (undominatedNodes) {
         return (undominatedNodes.forEach(function (n)  {
            return $("svg").prepend($("#node-rect-" + n)) })) } });
   $(".droparea").droppable({ "tolerance": "svg" }).bind("drop", function (event, ui)  {
      var dropNodeId = event.target.getAttribute("node-id");
      if (newSlashDragNodeId) {
         if ((newSlashDragNodeId != dropNodeId) && (dropNodeId != 0)) {
            return (addSlashRelation(newSlashDragNodeId, dropNodeId)) } }   else if (undominatedNodes.includes(parseFloat(dropNodeId))) {
         return (updateDependency(dragNodeId, dropNodeId, slashHead)) } });
   $(".slash-arc-start").draggable({ "revert": "true" }).bind("mouseover", function (event, ui)  {
      event.target.setAttribute("fill", "red");
      return (event.target.setAttribute("opacity", "1")) }).bind("mousedown", function (event, ui)  {
      var fromNodeId = event.target.getAttribute("from-node-id");
      var toNodeId = event.target.getAttribute("to-node-id");
      var arc = $("#slash-e" + fromNodeId + "-" + toNodeId + "e-slash")[0];
      var relation = $("#slash-relation-" + fromNodeId + "-" + toNodeId)[0];
      var svgDoc = event.target.ownerDocument;
      dragNodeId = toNodeId;
      slashHead = fromNodeId;
      currentX = parseFloat(event.target.getAttribute("cx"));
      hiliteSlashEdge(fromNodeId, toNodeId);
      origPath = arc.getAttribute("d");
      origRelCenter = relation.getAttribute("x");
      $("#attributesDiv").hide();
      hiliteUndominatedIds(fromNodeId, toNodeId);
      $("svg").append($(arc));
      return $("svg").append($(relation)) }).bind("drag", function (event, ui)  {
      var fromNodeId = event.target.getAttribute("from-node-id");
      var toNodeId = event.target.getAttribute("to-node-id");
      var arc = $("#slash-e" + fromNodeId + "-" + toNodeId + "e-slash")[0];
      var relation = $("#slash-relation-" + fromNodeId + "-" + toNodeId)[0];
      var pp = arc.getAttribute("d").split(" ");
      var left = ui.position.left - ui.originalPosition.left;
      var xCenterFrom = currentX + left;
      var xCenterTo = parseFloat(pp[20]);
      var xDelta = xCenterTo - xCenterFrom;
      var xCenter = Math.floor(xCenterTo + xCenterFrom, 2);
      var radius = Math.min(30, Math.abs(Math.floor(xCenterTo - xCenterFrom, 2)));
      var xCurved = radius;
      if (xDelta < 0) {
         xCurved = 0 - radius };
      var pathDef = "M " + xCenterFrom + " " + pp[2] + " L " + xCenterFrom + " " + pp[5] + " Q " + xCenterFrom + " " + pp[8] + " " + (xCenterFrom + xCurved) + " " + pp[10] + " L " + (xCenterFrom + (xDelta - xCurved)) + " " + pp[13] + " Q " + (xCenterFrom + xDelta) + " " + pp[16] + " " + (xCenterFrom + xDelta) + " " + pp[18] + " L " + (xCenterFrom + xDelta) + " " + pp[21];
      $("#slash-relation-" + fromNodeId + "-" + toNodeId).attr("transform", "translate(" + Math.floor(left / 2) + ",0)");
      $("#slash-circle-" + fromNodeId + "-" + toNodeId).attr("transform", "translate(" + Math.floor(left) + ",0)");
      $("#slash-drag-circle-" + fromNodeId + "-" + toNodeId).attr("transform", "translate(" + Math.floor(left) + ",0)");
      return (arc.setAttribute("d", pathDef)) }).bind("dragstop", function (event, ui)  {
      var fromNodeId = event.target.getAttribute("from-node-id");
      var toNodeId = event.target.getAttribute("to-node-id");
      var arc = $("#slash-e" + fromNodeId + "-" + toNodeId + "e-slash")[0];
      event.target.setAttribute("opacity", "0.1");
      $("svg").append($(event.target));
      dragNodeId = null;
      $(".droparea").addClass("invisible");
      arc.setAttribute("d", origPath);
      $("#slash-relation-" + fromNodeId + "-" + toNodeId).attr("transform", "translate(0,0)");
      $("#slash-circle-" + fromNodeId + "-" + toNodeId).attr("transform", "translate(0,0)");
      $("#slash-drag-circle-" + fromNodeId + "-" + toNodeId).attr("transform", "translate(0,0)");
      if (undominatedNodes) {
         return (undominatedNodes.forEach(function (n)  {
            return $("svg").prepend($("#node-rect-" + n)) })) } });
   $(".new-slash-arc-start").draggable({ "revert": "true" }).bind("mouseover", function (event, ui)  {
      event.target.setAttribute("fill", "green");
      return (event.target.setAttribute("opacity", "1")) }).bind("mousedown", function (event, ui)  {
      var toNodeId = event.target.getAttribute("to-node-id");
      var arc = $("#new-slash-edge")[0];
      var relation = $("#new-slash-relation")[0];
      var svgDoc = event.target.ownerDocument;
      newSlashDragNodeId = toNodeId;
      currentX = parseFloat(event.target.getAttribute("cx"));
      origPath = arc.getAttribute("d");
      origRelCenter = relation.getAttribute("x");
      $("#attributesDiv").hide();
      hiliteUndominatedIds(-1, -1);
      var xCurved = 0;
      var xDelta = 0;
      var pp = arc.getAttribute("d").split(" ");
      var startX = pp[1];
      var delta = currentX - startX;
      var pathDef = "M " + currentX + " " + pp[2] + " L " + currentX + " " + pp[5] + " Q " + currentX + " " + pp[8] + " " + (currentX + xCurved) + " " + pp[10] + " L " + (currentX + (xDelta - xCurved)) + " " + pp[13] + " Q " + (currentX + xDelta) + " " + pp[16] + " " + (currentX + xDelta) + " " + pp[18] + " L " + (currentX + xDelta) + " " + pp[21];
      newSlashDeltaX = delta;
      arc.setAttribute("d", pathDef);
      $("#new-slash-relation").attr("transform", "translate(" + delta + ",0)").show();
      $("#new-slash-drag-triangle-" + toNodeId).show();
      $("#new-slash-edge").show();
      $("svg").append($(arc));
      return $("svg").append($(relation)) }).bind("drag", function (event, ui)  {
      var toNodeId = event.target.getAttribute("to-node-id");
      var arc = $("#new-slash-edge")[0];
      var relation = $("#new-slash-relation")[0];
      var pp = arc.getAttribute("d").split(" ");
      var left = ui.position.left - ui.originalPosition.left;
      var xCenterFrom = currentX + left;
      var xCenterTo = parseFloat(pp[20]);
      var xDelta = xCenterTo - xCenterFrom;
      var xCenter = Math.floor(xCenterTo + xCenterFrom, 2);
      var radius = Math.min(30, Math.abs(Math.floor(xCenterTo - xCenterFrom, 2)));
      var xCurved = radius;
      if (xDelta < 0) {
         xCurved = 0 - radius };
      var pathDef = "M " + xCenterFrom + " " + pp[2] + " L " + xCenterFrom + " " + pp[5] + " Q " + xCenterFrom + " " + pp[8] + " " + (xCenterFrom + xCurved) + " " + pp[10] + " L " + (xCenterFrom + (xDelta - xCurved)) + " " + pp[13] + " Q " + (xCenterFrom + xDelta) + " " + pp[16] + " " + (xCenterFrom + xDelta) + " " + pp[18] + " L " + (xCenterFrom + xDelta) + " " + pp[21];
      $("#new-slash-drag-circle-" + toNodeId).attr("transform", "translate(" + Math.floor(left) + ",0)");
      $("#new-slash-relation").attr("transform", "translate(" + Math.floor(newSlashDeltaX + (left / 2)) + ",0)");
      return (arc.setAttribute("d", pathDef)) }).bind("dragstop", function (event, ui)  {
      var toNodeId = event.target.getAttribute("to-node-id");
      var arc = $("#new-slash-edge")[0];
      event.target.setAttribute("opacity", "0.1");
      $("svg").append($(event.target));
      newSlashDragNodeId = null;
      $(".droparea").addClass("invisible");
      arc.setAttribute("d", origPath);
      $("#new-slash-relation").hide().attr("transform", "translate(0,0)");
      $("#new-slash-drag-circle-" + toNodeId).attr("transform", "translate(0,0)");
      $("#new-slash-drag-triangle-" + toNodeId).hide();
      $("#new-slash-edge").hide();
      if (undominatedNodes) {
         return (undominatedNodes.forEach(function (n)  {
            return $("svg").prepend($("#node-rect-" + n)) })) } });
   return $(".node").draggable({ "revert": "true" }).bind("mouseover", function (event, ui)  {
      event.target.setAttribute("fill", "red");
      return (event.target.setAttribute("opacity", "1")) }).bind("mousedown", function (event, ui)  {
      var nodeId = event.target.getAttribute("node-id");
      var svgDoc = event.target.ownerDocument;
      dragNodeTextId = nodeId;
      currentX = parseFloat(event.target.getAttribute("cx"));
      return $("#attributesDiv").hide() }).bind("drag", function (event, ui)  {
      var left = ui.position.left - ui.originalPosition.left;
      var xCenterFrom = currentX + left;
      return $("#node-" + dragNodeTextId).attr("transform", "translate(" + Math.floor(left) + ",0)") }).bind("dragstop", function (event, ui)  {
      var fromNodeId = event.target.getAttribute("from-node-id");
      var toNodeId = event.target.getAttribute("to-node-id");
      var arc = $("#e" + fromNodeId + "-" + toNodeId + "e")[0];
      $("svg").append($(event.target));
      $("#node-" + dragNodeTextId).attr("transform", "translate(0,0)");
      dragNodeTextId = null;
      $(".droparea").addClass("invisible");
      return $("#drag-circle-" + toNodeId).attr("transform", "translate(0,0)") }).droppable({ "tolerance": "svg" }).bind("drop", function (event, ui)  {
      var dropNodeId = event.target.getAttribute("node-id");
      if (dropNodeId == (parseFloat(dragNodeTextId) + 1)) {
         return (mergeTokens(dragNodeTextId, dropNodeId)) }   else if (dropNodeId == (parseFloat(dragNodeTextId) + -1)) {
         return (mergeTokens(dragNodeTextId, dropNodeId)) } })
}
initDragDrop();
if (canEdit == true) {
   showUndoSave() }
function updateDependency(node, newHeadNode, slashHeadNode)  {
   if (!(node == newHeadNode)) {
      var sessionId = $("#session-id").val();
      return ($.ajax({ "url": "js/dep-linear-tree" + "?session-id=" + sessionId + "&node=" + node + "&new-head-node=" + newHeadNode + "&slash-head-node=" + slashHeadNode,
        "dataType": "html",
        "success": function (data)  {
              $("#dgraph").html(data);
              initDragDrop();
              showUndoSave();
              if (slashHeadNode) {
                 return (hiliteSlashEdge(newHeadNode, node)) }   else  {
                 return (hiliteEdge(node)) } },
        "error": function (xhr, status, error)  {
              return (console.log(status)) } })) }
}

function hiliteUndominatedIds(fromNode, toNode)  {
   var sessionId = $("#session-id").val();
   return ($.ajax({ "url": "js/get-undominated-nodes" + "?session-id=" + sessionId + "&from-node-id=" + fromNode + "&to-node-id=" + toNode,
     "success": function (data)  {
           undominatedNodes = data.undominated;
           return (data.undominated.forEach(function (n)  {
              $("#node-rect-" + n).removeClass("invisible");
              return $("svg").append($("#node-rect-" + n)) })) },
     "error": function (xhr, status, error)  {
           return (console.log(status)) } }))
}

function showRelationsMenu(x, node)  {
   var pos = x.parentNode.getBoundingClientRect();
   var sessionId = $("#session-id").val();
   return ($.ajax({ "url": "js/get-dep-relations" + "?session-id=" + sessionId + "&node=" + node,
     "success": function (data)  {
           return $("#relations-menu").css({ "left": pos.left + -1 + ((document.documentElement.scrollLeft) || (document.body.scrollLeft)),
             "top": pos.top + -1 + ((document.documentElement.scrollTop) || (document.body.scrollTop)),
             "display": "inline",
             "position": "absolute",
             "width": "auto",
             "min-width": "4em",
             "height": "auto",
             "border": "2px solid blue",
             "background": "white",
             "opacity": "0.9",
             "cursor": "hand",
             "font-size": "9pt" }).html(data) },
     "error": function (xhr, status, error)  {
           return (console.log(status)) } }))
}

function showSlashRelationsMenu(x, fromNode, toNode)  {
   var pos = x.parentNode.getBoundingClientRect();
   var sessionId = $("#session-id").val();
   return ($.ajax({ "url": "js/get-slash-dep-relations" + "?session-id=" + sessionId + "&from-node=" + fromNode + "&to-node=" + toNode,
     "success": function (data)  {
           return $("#relations-menu").css({ "left": pos.left + -1 + ((document.documentElement.scrollLeft) || (document.body.scrollLeft)),
             "top": pos.top + -1 + ((document.documentElement.scrollTop) || (document.body.scrollTop)),
             "display": "inline",
             "position": "absolute",
             "width": "auto",
             "min-width": "4em",
             "height": "auto",
             "border": "2px solid blue",
             "background": "white",
             "opacity": "0.9",
             "cursor": "hand",
             "font-size": "9pt" }).html(data) },
     "error": function (xhr, status, error)  {
           return (console.log(status)) } }))
}

function setRelation(node, relation, slashHeadNode)  {
   var sessionId = $("#session-id").val();
   return ($.ajax({ "url": "js/dep-linear-tree" + "?session-id=" + sessionId + "&node=" + node + "&new-relation=" + relation + "&slash-head-node=" + slashHeadNode,
     "dataType": "html",
     "success": function (data)  {
           $("#dgraph").html(data);
           $("#relations-menu").hide();
           initDragDrop();
           showUndoSave();
           if (slashHeadNode) {
              return (hiliteSlashEdge(slashHeadNode, node)) }   else  {
              return (hiliteEdge(node)) } },
     "error": function (xhr, status, error)  {
           return (console.log(status)) } }))
}

function deleteSlashRelation(node, slashHeadNode)  {
   var sessionId = $("#session-id").val();
   return ($.ajax({ "url": "js/dep-linear-tree" + "?session-id=" + sessionId + "&node=" + node + "&slash-head-node=" + slashHeadNode + "&mode=delete-slash",
     "dataType": "html",
     "success": function (data)  {
           $("#dgraph").html(data);
           $("#relations-menu").hide();
           initDragDrop();
           showUndoSave();
           if (slashHeadNode) {
              return (hiliteSlashEdge(slashHeadNode, node)) }   else  {
              return (hiliteEdge(node)) } },
     "error": function (xhr, status, error)  {
           return (console.log(status)) } }))
}

function addSlashRelation(node, slashHeadNode)  {
   var sessionId = $("#session-id").val();
   return ($.ajax({ "url": "js/dep-linear-tree" + "?session-id=" + sessionId + "&node=" + node + "&slash-head-node=" + slashHeadNode + "&mode=add-slash",
     "dataType": "html",
     "success": function (data)  {
           $("#dgraph").html(data);
           $("#relations-menu").hide();
           initDragDrop();
           showUndoSave();
           return (hiliteSlashEdge(0, node)) },
     "error": function (xhr, status, error)  {
           return (console.log(status)) } }))
}

function mergeTokens(dragNode, dropNode)  {
   var sessionId = $("#session-id").val();
   return ($.ajax({ "url": "js/dep-linear-tree" + "?session-id=" + sessionId + "&node=" + dragNode + "&drop-node=" + dropNode + "&mode=merge-tokens",
     "dataType": "html",
     "success": function (data)  {
           $("#dgraph").html(data);
           $("#relations-menu").hide();
           initDragDrop();
           return (showUndoSave()) },
     "error": function (xhr, status, error)  {
           return (console.log(status)) } }))
}

function splitTokenAtSlash(node)  {
   var sessionId = $("#session-id").val();
   var word = $("[id^='att-word']");
   if (word[0]) {
      var leftHead = word.val().search("/");
      var rightHead = word.val().indexOf("\\");
      if (rightHead == -1) {
         rightHead = null };
      if (leftHead == -1) {
         leftHead = null };
      if ((rightHead) || (leftHead)) {
         return ($.ajax({ "url": "js/dep-linear-tree" + "?session-id=" + sessionId + "&node=" + node + "&word=" + encodeURIComponent(word.val()) + "&mode=split-token",
           "dataType": "html",
           "success": function (data)  {
                 $("#dgraph").html(data);
                 $("#attributesDiv").hide();
                 initDragDrop();
                 showUndoSave();
                 if (leftHead) {
                    return (hiliteEdge(node + 1)) }   else if (rightHead) {
                    return (hiliteEdge(node)) } },
           "error": function (xhr, status, error)  {
                 return (console.log(status)) } })) } }
}

function insertEmptyNode(node)  {
   var sessionId = $("#session-id").val();
   return ($.ajax({ "url": "js/dep-linear-tree" + "?session-id=" + sessionId + "&node=" + node + "&mode=insert-empty",
     "dataType": "html",
     "success": function (data)  {
           $("#dgraph").html(data);
           $("#attributesDiv").hide();
           initDragDrop();
           showUndoSave();
           return (hiliteEdge(node + 1)) },
     "error": function (xhr, status, error)  {
           return (console.log(status)) } }))
}

function setFeatureValues(node)  {
   var sessionId = $("#session-id").val();
   var params = "";
   var morphParams = null;
   var word = $("[id^='att-word']");
   var lemma = $("[id^='att-lemma']");
   var pos = $("[id^='att-pos']");
   var morph = $("[id^='att-morph-']");
   if (word[0]) {
      params = params + "&word=" + encodeURIComponent(word.val()) };
   if (lemma[0]) {
      params = params + "&lemma=" + encodeURIComponent(lemma.val()) };
   if (pos[0]) {
      params = params + "&pos=" + encodeURIComponent(pos.val()) };
   if (morph[0]) {
      console.log(morph);
      morph.map(function (a)  {
         var av = morph[a];
         if (av.value) {
            console.log(av.value);
            morphParams = av.value } });
      params = params + "&morph=" + encodeURIComponent(morphParams) };
   if (params) {
      return ($.ajax({ "url": "js/dep-linear-tree" + "?session-id=" + sessionId + "&node=" + node + "&mode=features" + params,
        "dataType": "html",
        "success": function (data)  {
              $("#dgraph").html(data);
              $("#relations-menu").hide();
              $("#attributesDiv").hide();
              initDragDrop();
              return (showUndoSave()) },
        "error": function (xhr, status, error)  {
              return (console.log(status)) } })) }
}

function undoEdit(mode)  {
   var sessionId = $("#session-id").val();
   return ($.ajax({ "url": "js/dep-linear-tree" + "?session-id=" + sessionId + "&mode=" + mode,
     "dataType": "html",
     "success": function (data)  {
           $("#dgraph").html(data);
           initDragDrop();
           return (showUndoSave()) },
     "error": function (xhr, status, error)  {
           return (console.log(status)) } }))
}

function showUndoSave()  {
   var sessionId = $("#session-id").val();
   return ($.ajax({ "url": "js/dep-undo-save-info" + "?session-id=" + sessionId,
     "dataType": "html",
     "success": function (data)  {
           $("#undo-td").show();
           return $("#undo-td").html(data) },
     "error": function (xhr, status, error)  {
           return (console.log(status)) } }))
}

function storeDependency()  {
   var sessionId = $("#session-id").val();
   return ($.ajax({ "url": "js/dep-linear-tree" + "?session-id=" + sessionId + "&mode=store",
     "dataType": "html",
     "success": function (data)  {
           $("#dgraph").html(data);
           initDragDrop();
           return (showUndoSave()) },
     "error": function (xhr, status, error)  {
           return (console.log(status)) } }))
}

function deleteSentence()  {
   var sessionId = $("#session-id").val();
   return ($.ajax({ "url": "js/dep-delete-sentence" + "?session-id=" + sessionId,
     "dataType": "html",
     "success": function (data)  {
           console.log(data);
           if (data.success) {
              return (showParsedSentence({ "previous": true })) } },
     "error": function (xhr, status, error)  {
           return (console.log(status)) } }))
}

function addRelationLabel(mode)  {
   var sessionId = $("#session-id").val();
   console.log(mode);
   return ($.ajax({ "url": "js/add-dependency-label" + "?session-id=" + sessionId + "&mode=" + mode + "&label=" + $("#add-rel").val() + "&slash-label=" + $("#add-slash-rel").val(),
     "dataType": "html",
     "success": function (data)  {
            },
     "error": function (xhr, status, error)  {
           return (console.log(status)) } }))
}

function editFeatureValue(att, nodeId)  {
   var sessionId = $("#session-id").val();
   var value = $("#feature-" + att + " > span").html();
   var pos = $("#feature-pos" + " > span").html();
   console.log($("#feature-pos" + " > select"));
   if ($("#feature-pos" + " > select")[0]) {
      pos = $("#feature-pos" + " > select").val() };
   if ((att == "word") || (att == "lemma")) {
      return $("#feature-" + att).html("<input type=\"string\" id=\"att-" + att + "\" value=\"" + value + "\"/>") }   else if ((att == "pos") || (att == "morph")) {
      return ($.ajax({ "url": "js/get-feature-values" + "?session-id=" + sessionId + "&attribute=" + att + "&value=" + encodeURIComponent(value) + "&pos=" + pos + "&node=" + nodeId,
        "success": function (data)  {
              return $("#feature-" + att).html(data) },
        "error": function (xhr, status, error)  {
              return (console.log(status)) } })) }
}
</script><form xmlns="" method="post" id="display-form" action="xle-web"><input type="hidden" name="session-id" value="254452574564101"></form>
<table xmlns="" width="600px">
<tr><td><form method="post" id="parseForm" action="xle-web">
<input type="hidden" name="xle-graph-id" value="3879070979"><input type="hidden" name="session-id" value="254452574564101"><input type="hidden" name="disjunction-choice" id="disjunction-choice" value=""><input type="hidden" name="node-id" id="node-id" value=""><input type="hidden" name="dtree" id="dtree" value=""><input type="hidden" name="edge" id="edge"><input type="hidden" name="toggle-suppress-complex-categories" id="toggleSuppressComplexCategories"><input type="hidden" name="toggle-packed" id="togglePacked"><input type="hidden" name="toggle-xle-messages" id="toggleXLEmessages"><input type="hidden" name="toggle-suppress-check" id="toggleSuppressCheck"><input type="hidden" name="toggle-preds-only" id="togglePredsOnly"><input type="hidden" name="toggle-show-discriminants" id="toggleShowDiscriminants"><input type="hidden" name="toggle-show-disjunctions" id="toggleShowDisjunctions"><input type="hidden" name="toggle-show-weights" id="toggleShowWeights"><input type="hidden" name="toggle-show-c-structure" id="toggleShowCStructure"><input type="hidden" name="toggle-show-f-structure" id="toggleShowFStructure"><input type="hidden" name="toggle-show-unoptimal" id="toggleShowUnoptimal"><input type="hidden" name="toggle-show-dep" id="toggleShowDep"><div class="text">XLE-Web documentation can be found <a href="https://clarino.uib.no/iness/page?page-id=XLE-Web_Documentation">here</a>.</div>
<div class="text">Grammar: <select name="grammar"><option value="-">(select a grammar)</option>
<option value="Arabic">Arabic</option>
<option value="English">English</option>
<option value="English (Call)">English (Call)</option>
<option value="French">French</option>
<option value="Georgian">Georgian</option>
<option value="German">German</option>
<option value="Indonesian">Indonesian</option>
<option value="Italian Fragment">Italian Fragment</option>
<option value="Malagasy">Malagasy</option>
<option value="Norwegian Bokmål">Norwegian Bokmål</option>
<option value="Norwegian Bokmål (MAXENT)">Norwegian Bokmål (MAXENT)</option>
<option value="Norwegian Bokmål (pruning)" selected>Norwegian Bokmål (pruning)</option>
<option value="Norwegian Bokmål/dan">Norwegian Bokmål/dan</option>
<option value="Norwegian Nynorsk">Norwegian Nynorsk</option>
<option value="Norwegian Nynorsk (pruning)">Norwegian Nynorsk (pruning)</option>
<option value="Polish (POLFIE)">Polish (POLFIE)</option>
<option value="Polish (POLFIE-OT + Concraft)">Polish (POLFIE-OT + Concraft)</option>
<option value="Polish (POLFIE-OT + Toygger)">Polish (POLFIE-OT + Toygger)</option>
<option value="Polish (POLFIE-OT)">Polish (POLFIE-OT)</option>
<option value="Tamil">Tamil</option>
<option value="Tigrinya">Tigrinya</option>
<option value="Turkish">Turkish</option>
<option value="Urdu">Urdu</option>
<option value="Urdu (nominals)">Urdu (nominals)</option>
<option value="Wolof">Wolof</option></select>
</div>
<div class="text">Write a sentence (max. 600 characters), ending it with punctuation (. ? or !).<br>Please observe orthographic conventions, such as capitalization of proper names.<br><span style="color: red">Please do not use XLE-Web for automatic parsing of larger amounts of text. Contact iness@uib.no instead.</span>
</div>
<textarea name="sentence" rows="3" cols="80" onkeydown="submitOnLinefeed(event)"></textarea><br><br><table><tr>
<td>
<input type="submit" name="parse-sentence" id="parse-sentence" value="Parse sentence"><br><nobr><input type="submit" name="show-morphemes" value="Morphemes"><input type="submit" name="show-tokens" value="Tokens"><input type="submit" name="show-prolog" value="Prolog"></nobr><input type="hidden" name="parse-sentence" id="parseSentenceHidden" value=""> <input type="button" onclick="gitUpdateGrammar()" value="GIT update grammar">
</td>
<td>
<nobr><input type="checkbox" onchange="togglePacked.value=true; submit()">Packed representation </nobr><br><nobr><input type="checkbox" onchange="toggleXLEmessages.value=true; submit()">Show XLE messages</nobr><br><nobr><input type="checkbox" onchange="toggleShowUnoptimal.value=true; submit()">Show unoptimal</nobr><br><nobr><input type="checkbox" onchange="toggleShowDep.value=true; submit()">Show dependencies: </nobr><br>
</td>
<td>
<nobr><input type="checkbox" onchange="toggleSuppressCheck.value=true; submit()" checked>Suppress CHECK</nobr><br><nobr><input type="checkbox" onchange="toggleSuppressComplexCategories.value=true; submit()">Suppress complex categories </nobr><br><nobr><input type="checkbox" onchange="togglePredsOnly.value=true; submit()">PREDs only</nobr>
</td>
<td>
<nobr><input type="checkbox" onchange="toggleShowWeights.value=true; submit()">Show discriminant weights</nobr><br><nobr><input type="checkbox" name="non-top-f-structures" onchange="submit()">Include non-top F-structures</nobr><br><nobr>Show <input type="checkbox" onchange="toggleShowDiscriminants.value=true; submit()" checked>discriminants <input type="checkbox" onchange="toggleShowCStructure.value=true; submit()" checked>c-structure <input type="checkbox" name="show-f-structure" onchange="toggleShowFStructure.value=true; submit()" checked>f-structure </nobr>
</td>
</tr></table>
<div id="parseState" class="message"></div>
<div id="message" class="message"></div>
</form></td></tr>
<tr><td>
<table><tr><td><form method="post" action="xle-web" name="sentence-form" id="sentenceForm">
<input type="hidden" name="session-id" value="254452574564101"><input type="hidden" name="xle-graph-id" id="xle-graph-id" value="3879070979"><input type="hidden" name="grammar" id="grammar" value="Norwegian Bokmål (pruning)"><input type="hidden" name="sentence" value=""><input type="hidden" name="font" value=""><input type="hidden" name="disable-OT" value=""><input type="hidden" name="packed" value=""><input type="hidden" name="disjunction-choice" id="disjunction-choice" value=""><input type="hidden" name="discriminant-choice" id="discriminant-choice"><input type="hidden" name="complementp" id="complementp"><input type="hidden" name="non-top-f-structures" id="non-top-f-structures" value=""><input type="hidden" name="ranking" id="ranking" value=""><input type="hidden" name="inspect" id="inspect" value=""><input type="hidden" name="partial-nodes" id="partial-nodes" value=""><input type="hidden" name="sublexical-nodes" id="sublexical-nodes" value=""><input type="hidden" name="show-all-fs-discs" id="show-all-fs-discs" value=""><input type="hidden" name="show-f-structure" value="true"><input type="hidden" name="show-weights" value=""><input type="submit" name="previous-solution" value="Previous"><input type="submit" name="next-solution" value="Next">
</form></td></tr></table>
<table><tr>
<td style="vertical-align: top" id="fstructure" name="fstructure"></td>
<td style="vertical-align: top"><nobr><div id="sexp" name="sexp"></div></nobr></td>
</tr></table>
</td></tr>
</table></td></tr><tr><td colspan="2"><hr></hr><div class="bottom">Design &amp; implementation: <a href="mailto:paul.meurer@uib.no">Paul Meurer</a>, <a href="http://clarino.uni.no" target="_new">CLARINO Bergen Centre</a>, 2023</div></td></tr></table></body></html>
